<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/xhtml">
<style>
    table {
        border-collapse: separate;
        border-spacing: 5px 0;
    }

    th {
        background-color: #2c2c2c;
        text-align: left;
        color: white;
    }

    .display {
        width: 200px;
        text-align: left;
        border: 1px solid black;
        padding: 5px;
    }

    h2 {
        color: #000000;
    }
</style>

<head>
    <title>Results Page</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" th:href="@{/results.css}">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
    <script type="text/javascript" src="/webjars/jquery/jquery.min.js"></script>
    <script type="text/javascript" src="/webjars/bootstrap/js/bootstrap.min.js"></script>
</head>
<body>
    <div id="container">
        <div id="header">
            <div id="headerItems">
                <h1 id="company">MonkeySurvey*</h1>
                <p id="logo">Replace with logo</p>
            </div>
        </div>

        <div id="body">
            <div id="options">
                <a class="optionValue" href="/">Home</a><br>
            </div>
            <th:block th:each="survey : ${surveys}">
                <div id="survey">
                    <div id="surveyHeader">
                        <h1 id="surveyTitle" th:text="${survey.getSurveyName()}"></h1>
                        <div id="surveyInfo">
                            <h2 id="surveyInfoNumberOfQuestions" th:text="'Number of Questions: ' + ${survey.questions.size}"></h2>
                        </div>
                    </div>
                    <div id="surveyQuestions">
                        <th:block th:each="question : ${survey.questions}">
                            <div class="question">
                                <h2 class="questionTitle" th:text="${question.getQuestion()}"></h2>
                                <h2 class="questionResponsesCount" th:text="'Number of Responses: ' + ${question.results.size}"></h2>
                                <h2 class="questionAnswer" th:text="Results"></h2>
<!--                                <table>-->
<!--                                    <tr th:each="result : ${question.results}">-->
<!--                                        <td class="display" th:text="${result.answer}">N/A</td>-->
<!--                                    </tr>-->
<!--                                </table>-->
                                <th:block th:each="result : ${question.results}">
                                    <p class = "questionResult"  th:text="${result.answer}"> n/a</p>
                                </th:block>

                            </div>
                        </th:block>
                    </div>
                </div>
            </th:block>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
                Launch demo modal
            </button>

            <!-- Modal -->
            <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <p>Modal body text goes here.</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-primary">Save changes</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
<script>
    var myModal = document.getElementById('myModal')
    var myInput = document.getElementById('myInput')

    myModal.addEventListener('shown.bs.modal', function () {
      myInput.focus()
    })
    var xValues = [];
    var yValues = [];
    var barColors ="red";

    new Chart("myChart", {
      type: "bar",
      data: {
      labels: xValues,
      datasets: [{
        backgroundColor: barColors,
        data: yValues
      }]
    },
      options: {
        legend: {display: false},
        title: {
          display: true,
          text: "Result Frequency"
        },
        scales: {
          xAxes: [{ticks: {min: 0}}]
        }
      }
    });
</script>